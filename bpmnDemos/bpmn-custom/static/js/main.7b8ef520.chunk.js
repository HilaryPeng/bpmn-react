(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,n){e.exports={header:"index_header__2lblO","logo-container":"index_logo-container__bJhDf",logo:"index_logo__3u35-",systemName:"index_systemName__2Sqt-"}},23:function(e,t,n){e.exports={editingTools:"index_editingTools__PQHZq",controlList:"index_controlList__2WC-x",control:"index_control__EhZrz",openFile:"index_openFile__g226O",line:"index_line__2O6oE",zoom:"index_zoom__dB37d",zoomIn:"index_zoomIn__mZMLZ",zoomOut:"index_zoomOut__3lsCn",undo:"index_undo__zqT1j",redo:"index_redo__3hJtM",save:"index_save__TKKDp",download:"index_download__3igtD",image:"index_image__33KEo",open:"index_open__1yShD"}},253:function(e,t,n){e.exports={header:"Bpmn_header__2lSBA",container:"Bpmn_container__346eq",canvas:"Bpmn_canvas__3p482"}},390:function(e,t,n){e.exports=n(886)},597:function(e,t,n){},827:function(e,t,n){},886:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n.n(a),i=n(111),r=n.n(i),s=(n(395),n(597),n(598),n(386)),c=n.n(s),l=n(85),d=n(124),p=n(127),u=n(125),m=n(128),v=n(64),g=(n(600),n(254)),h=n.n(g),y=n(256),f=(n(602),n(131)),b=n.n(f),E=n(112),w=n(89),C=n.n(w),j=n(113),O=n.n(j),_=n(375),T=n.n(_),x=n(376),M=n.n(x),D=n(377),I=n(1),A=n(71),P=n(6),S=n.n(P),N=n(255),k=n(387),B=n(388),L=n(0),F=n(4),z="".concat(".djs-collapse-header",", ").concat(".entry",", ").concat(".djs-palette-toggle");function R(e,t){this._eventBus=e,this._canvas=t,this._providers=[];var n=this;e.on("tool-manager.update",function(e){var t=e.tool;n.updateToolHighlight(t)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._providers.length&&(n._init(),n._update())})}R.$inject=["eventBus","canvas"],R.prototype.registerProvider=function(e){this._providers.push(e),this._diagramInitialized&&(this._container||this._init(),this._update())},R.prototype.getEntries=function(){var e={};return Object(L.i)(this._providers,function(t){var n=t.getPaletteEntries();Object(L.i)(n,function(t,n){e[n]=t})}),e},R.prototype._init=function(){var e=this._canvas,t=this._eventBus;this._container=Object(F.domify)(R.HTML_MARKUP);var n=Object(F.closest)(e.getContainer(),".bjs-container"),a=this._container,o=this;n.insertBefore(a,n.children[0]),F.delegate.bind(a,z,"click",function(e){var t=e.delegateTarget;return Object(F.matches)(t,".djs-collapse-header")?o.toggle(t):Object(F.matches)(t,".djs-palette-toggle")?o.slide(t):void o.trigger("click",e)}),F.event.bind(a,"mousedown",function(e){e.stopPropagation()}),F.delegate.bind(a,".entry","dragstart",function(e){o.trigger("dragstart",e)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:a})},R.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),n=this._container,a=this._eventBus,o=Object(F.classes)(n),i=e.twoColumn||this._needsCollapse(t.clientHeight,this._entries||{});o.toggle("two-column",i),"open"in e&&o.toggle("open",e.open),a.fire("palette.changed",{twoColumn:i,open:this.isOpen()})},R.prototype._update=function(){this._entries=this.getEntries();var e=Object(F.query)(".djs-palette-entries",this._container),t=this._entries;Object(F.clear)(e),Object(L.i)(t,function(t){var n=t.group||"default",a=Object(F.query)("[data-group=".concat(n,"]"),e),o=Object(F.query)(".djs-collapse-content",a),i=Object(F.domify)('<div class="djs-collapse-header iconfont open">'.concat(t.title,"</div>"));(a||(a=Object(F.domify)('<div class="group" data-group="'.concat(n,'"></div>')),o=Object(F.domify)('<div class="djs-collapse-content open"></div>'),a.appendChild(i),a.appendChild(o),e.appendChild(a)),0===t.children.length)&&Object(F.classes)(a).add("hidden");Object(L.i)(t.children,function(e){var t=e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),n=Object(F.domify)(t),a=Object(F.domify)('<i class="content-icon '.concat(e.className,'"></i>')),i=Object(F.domify)('<span class="content-label">'.concat(e.title,"</span>"));n.appendChild(a),n.appendChild(i),o.appendChild(n),e.separator||(Object(F.attr)(n,"data-action",e.id),e.title&&Object(F.attr)(n,"title",e.title),e.imageUrl&&a.appendChild(Object(F.domify)('<img src="'.concat(e.imageUrl,'">'))))})}),this.open()},R.prototype.trigger=function(e,t,n){var a,o=this._entries,i=t.delegateTarget||t.target;if(!i)return t.preventDefault();if(Object(L.i)(o,function(e){Object(L.i)(e.children,function(e){e.id===Object(F.attr)(i,"data-action")&&(a=e)})}),a){var r=a.action,s=t.originalEvent||t;Object(L.n)(r)?"click"===e&&r(s,n):r[e]&&r[e](s,n),t.preventDefault()}},R.prototype._layoutChanged=function(){this._toggleState({})},R.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},R.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},R.prototype.open=function(){this._toggleState({open:!0})},R.prototype.toggle=function(e){var t=Object(F.closest)(e,".group"),n=Object(F.query)(".djs-collapse-content",t),a=Object(F.classes)(n),o=Object(F.classes)(e);a.has("open")?(a.remove("open"),o.remove("open")):(a.add("open"),o.add("open"))},R.prototype.slide=function(e){var t=Object(F.classes)(this._container);t.has("retract")?(t.remove("retract"),e.setAttribute("title","\u6536\u8d77")):(t.add("retract"),e.setAttribute("title","\u5c55\u5f00"))},R.prototype.isActiveTool=function(e){return e&&(void 0)._activeTool===e},R.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=Object(F.query)(".djs-palette-entries",this._container),this._toolsContainer=Object(F.query)("[data-group=tools]",t));var n=this._toolsContainer;Object(L.i)(n.children,function(t){var n=t.getAttribute("data-action");if(n){var a=Object(F.classes)(t);n=n.replace("-tool",""),a.contains("entry")&&n===e?a.add("highlighted-entry"):a.remove("highlighted-entry")}})},R.prototype.isOpen=function(){return Object(F.classes)(this._container).has("open")},R.prototype._getParentContainer=function(){return this._canvas.getContainer()},R.HTML_MARKUP='<div class="djs-palette">\n    <div class="djs-palette-entries"></div>\n    <div class="djs-palette-toggle iconfont" title="\u6536\u8d77"></div>\n  </div>';var U={__init__:["palette"],palette:["type",R]},Y=function e(t,n,a,o,i,r,s,c){var d=this;Object(l.a)(this,e),this.getPaletteEntries=function(){var e=[],t=d.create,n=d.elementFactory,a=d.translate,o=d.spaceTool,i=d.lassoTool,r=d.handTool,s=d.globalConnect,c=window.customData;function l(e,o,i,r,s,l){function d(a){var o=n.createShape(Object(L.a)({type:e},s,{customType:l}));s&&(o.businessObject.di.isExpanded=s.isExpanded),t.start(a,o)}var p=e.replace(/^bpmn:/,""),u={group:o,className:i,title:r&&a(r)||a("Create ".concat(p)),action:{dragstart:d,click:d}};return l&&c.forEach(function(e){e.customType===l&&(u.imageUrl=s.imageUrl)}),u}function p(e,a){t.start(e,n.createParticipantShape(a))}Object(L.a)(e,[{title:a("Tools"),group:"tools",children:[{id:"hand-tool",group:"tools",className:"bpmn-icon-hand-tool",title:a("Activate the hand tool"),action:{click:function(e){r.activateHand(e)}}},{id:"lasso-tool",group:"tools",className:"bpmn-icon-lasso-tool",title:a("Activate the lasso tool"),action:{click:function(e){i.activateSelection(e)}}},{id:"space-tool",group:"tools",className:"bpmn-icon-space-tool",title:a("Activate the create/remove space tool"),action:{click:function(e){o.activateSelection(e)}}},{id:"global-connect-tool",group:"tools",className:"bpmn-icon-connection-multi",title:a("Activate the global connect tool"),action:{click:function(e){s.toggle(e)}}}]},{title:a("ProcessControl"),group:"processControl",children:[Object(v.a)({id:"create.start-event"},l("bpmn:StartEvent","event","bpmn-icon-start-event-none")),Object(v.a)({id:"create.intermediate-event"},l("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none")),Object(v.a)({id:"create.end-event"},l("bpmn:EndEvent","event","bpmn-icon-end-event-none")),Object(v.a)({id:"create.exclusive-gateway"},l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-xor")),Object(v.a)({id:"create.parallel-gateway"},l("bpmn:ParallelGateway","gateway","bpmn-icon-gateway-parallel")),Object(v.a)({id:"create.task"},l("bpmn:Task","activity","bpmn-icon-task")),Object(v.a)({id:"create.subprocess-expanded"},l("bpmn:SubProcess","activity","bpmn-icon-subprocess-expanded","Create expanded SubProcess",{isExpanded:!0})),{id:"create.participant-expanded",group:"collaboration",className:"bpmn-icon-participant",title:a("Create Pool/Participant"),action:{dragstart:p,click:p}}]}]);var u=[];return c.length&&c.forEach(function(e){var t=e.customType;u.push(Object(v.a)({id:"create.service-task-".concat(t)},l("bpmn:ServiceTask","custom","bpmn-icon-".concat(t),"Create ".concat(t),{imageUrl:e.imgDataUrl},t)))}),e.push({title:a("CustomTasks"),group:"customTasks",children:u}),e},this.create=n,this.elementFactory=a,this.spaceTool=o,this.lassoTool=i,this.handTool=r,this.globalConnect=s,this.translate=c,t.registerProvider(this)};Y.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];var G=n(143);function Z(e){e.invoke(G.a,this);var t=Object(L.b)(this.getContextPadEntries,this);this.getContextPadEntries=function(e){var n=t(e),a=window.customData;return a.length&&a.forEach(function(t){(e.customType===t.customType||e.businessObject.name&&e.businessObject.name===t.initProperties.name)&&delete n.replace}),n}}S()(Z,G.a),Z.$inject=["injector"];var Q=n(55),V=n(2);function q(e){Q.a.call(this,e,1500);var t=window.customData;this.canRender=function(e){var n=e.businessObject;if(n&&t.filter(function(t){return t.customType===e.customType||n.name&&n.name===t.initProperties.name})[0])return!0},this.drawShape=function(e,n){var a=n.businessObject,o="";if(a){var i=t.filter(function(e){return e.customType===n.customType||a.name&&a.name===e.initProperties.name})[0];i&&(o=i.imgDataUrl)}var r=Object(V.f)("image",{x:0,y:0,width:n.width,height:n.height,href:o});return Object(V.a)(e,r),r}}S()(q,Q.a),q.$inject=["eventBus"];var H={__depends__:[U],__init__:["contextPadProvider","customRenderer","paletteProvider"],contextPadProvider:["type",Z],customRenderer:["type",q],paletteProvider:["type",Y]},X=n(87);function $(e,t){e.addListener(function(e){if(88===e)return t.trigger("copy"),t.trigger("removeSelection"),!0})}$.$inject=["keyboard","editorActions"];var J={__depends__:[X.a],__init__:["bpmnKeyBindings"],bpmnKeyBindings:["type",$]},K={"Activate the global connect tool":"\u6fc0\u6d3b\u5168\u5c40\u8fde\u63a5","Append {type}":"\u6dfb\u52a0 {type}","Add Lane above":"\u5728\u4e0a\u9762\u6dfb\u52a0\u9053","Divide into two Lanes":"\u5206\u5272\u6210\u4e24\u4e2a\u9053","Divide into three Lanes":"\u5206\u5272\u6210\u4e09\u4e2a\u9053","Add Lane below":"\u5728\u4e0b\u9762\u6dfb\u52a0\u9053","Append compensation activity":"\u8ffd\u52a0\u8865\u507f\u6d3b\u52a8","Change type":"\u4fee\u6539\u7c7b\u578b","Connect using Association":"\u4f7f\u7528\u5173\u8054\u8fde\u63a5","Connect using Sequence/MessageFlow or Association":"\u4f7f\u7528\u987a\u5e8f/\u6d88\u606f\u6d41\u6216\u8005\u5173\u8054\u8fde\u63a5","Connect using DataInputAssociation":"\u4f7f\u7528\u6570\u636e\u8f93\u5165\u5173\u8054\u8fde\u63a5",Remove:"\u79fb\u9664",Tools:"\u5de5\u5177","Activate the hand tool":"\u6fc0\u6d3b\u6293\u624b","Activate the lasso tool":"\u6fc0\u6d3b\u5957\u7d22","Activate the create/remove space tool":"\u6fc0\u6d3b\u521b\u5efa/\u5220\u9664\u7a7a\u95f4","Create expanded SubProcess":"\u6269\u5c55\u5b50\u8fc7\u7a0b","Create IntermediateThrowEvent/BoundaryEvent":"\u521b\u5efa\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6/\u8fb9\u754c\u4e8b\u4ef6","Create Pool/Participant":"\u6c60/\u53c2\u4e0e\u8005","Parallel Multi Instance":"\u5e76\u884c\u591a\u91cd\u4e8b\u4ef6","Sequential Multi Instance":"\u65f6\u5e8f\u591a\u91cd\u4e8b\u4ef6",DataObjectReference:"\u6570\u636e\u5bf9\u8c61\u53c2\u8003","Data Reference":"\u6570\u636e\u53c2\u8003","Create DataObjectReference":"\u6570\u636e\u5bf9\u8c61\u53c2\u8003","Create DataStoreReference":"\u6570\u636e\u5b58\u50a8\u53c2\u8003",Loop:"\u5faa\u73af","Ad-hoc":"\u5373\u5e2d","Create {type}":"\u521b\u5efa {type}",Task:"\u4efb\u52a1","Create Task":"\u4efb\u52a1","Send Task":"\u53d1\u9001\u4efb\u52a1","Receive Task":"\u63a5\u6536\u4efb\u52a1","User Task":"\u7528\u6237\u4efb\u52a1","Create UserTask":"\u521b\u5efa\u7528\u6237\u4efb\u52a1","Manual Task":"\u624b\u5de5\u4efb\u52a1","Business Rule Task":"\u4e1a\u52a1\u89c4\u5219\u4efb\u52a1","Service Task":"\u670d\u52a1\u4efb\u52a1","Create ServiceTask":"\u521b\u5efa\u670d\u52a1\u4efb\u52a1","Script Task":"\u811a\u672c\u4efb\u52a1","Call Activity":"\u8c03\u7528\u6d3b\u52a8","Sub Process (collapsed)":"\u5b50\u6d41\u7a0b\uff08\u6298\u53e0\u7684\uff09","Sub Process (expanded)":"\u5b50\u6d41\u7a0b\uff08\u5c55\u5f00\u7684\uff09",Events:"\u4e8b\u4ef6","Start Event":"\u5f00\u59cb\u4e8b\u4ef6",StartEvent:"\u5f00\u59cb\u4e8b\u4ef6","Create StartEvent":"\u5f00\u59cb\u4e8b\u4ef6","Intermediate Throw Event":"\u4e2d\u95f4\u4e8b\u4ef6","Create IntermediateThrowEvent":"\u4e2d\u95f4\u6216\u8fb9\u754c\u4e8b\u4ef6","End Event":"\u7ed3\u675f\u4e8b\u4ef6",EndEvent:"\u7ed3\u675f\u4e8b\u4ef6","Create EndEvent":"\u7ed3\u675f\u4e8b\u4ef6","Create Intermediate/Boundary Event":"\u521b\u5efa\u4e2d\u95f4/\u8fb9\u754c\u4e8b\u4ef6","Append Intermediate/Boundary Event":"\u6dfb\u52a0\u4e2d\u95f4/\u8fb9\u754c\u4e8b\u4ef6","Boundary Event Timer":"\u8fb9\u754c\u4e8b\u4ef6\u5b9a\u65f6\u5668","Message Start Event":"\u6d88\u606f\u5f00\u59cb\u4e8b\u4ef6","Timer Start Event":"\u5b9a\u65f6\u5f00\u59cb\u4e8b\u4ef6","Conditional Start Event":"\u6761\u4ef6\u5f00\u59cb\u4e8b\u4ef6","Signal Start Event":"\u4fe1\u53f7\u5f00\u59cb\u4e8b\u4ef6","Error Start Event":"\u9519\u8bef\u5f00\u59cb\u4e8b\u4ef6","Escalation Start Event":"\u5347\u7ea7\u5f00\u59cb\u4e8b\u4ef6","Compensation Start Event":"\u8865\u507f\u5f00\u59cb\u4e8b\u4ef6","Message Start Event (non-interrupting)":"\u6d88\u606f\u5f00\u59cb\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Timer Start Event (non-interrupting)":"\u5b9a\u65f6\u5f00\u59cb\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Conditional Start Event (non-interrupting)":"\u6761\u4ef6\u5f00\u59cb\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Signal Start Event (non-interrupting)":"\u4fe1\u53f7\u5f00\u59cb\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Escalation Start Event (non-interrupting)":"\u5347\u7ea7\u5f00\u59cb\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Message Intermediate Catch Event":"\u6d88\u606f\u4e2d\u95f4\u6355\u83b7\u4e8b\u4ef6","Message Intermediate Throw Event":"\u6d88\u606f\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6","Timer Intermediate Catch Event":"\u5b9a\u65f6\u4e2d\u95f4\u6355\u83b7\u4e8b\u4ef6","Escalation Intermediate Throw Event":"\u5347\u7ea7\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6","Conditional Intermediate Catch Event":"\u6761\u4ef6\u4e2d\u95f4\u6355\u83b7\u4e8b\u4ef6","Link Intermediate Catch Event":"\u94fe\u63a5\u4e2d\u95f4\u6355\u83b7\u4e8b\u4ef6","Link Intermediate Throw Event":"\u94fe\u63a5\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6","Compensation Intermediate Throw Event":"\u8865\u507f\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6","Signal Intermediate Catch Event":"\u4fe1\u53f7\u4e2d\u95f4\u6355\u83b7\u4e8b\u4ef6","Signal Intermediate Throw Event":"\u4fe1\u53f7\u4e2d\u95f4\u629b\u51fa\u4e8b\u4ef6","Intermediate Event Catch Timer":"\u4e2d\u95f4\u4e8b\u4ef6\u6355\u83b7\u65f6\u95f4","Message End Event":"\u6d88\u606f\u7ed3\u675f\u4e8b\u4ef6","Escalation End Event":"\u5b9a\u65f6\u7ed3\u675f\u4e8b\u4ef6","Error End Event":"\u9519\u8bef\u7ed3\u675f\u4e8b\u4ef6","Cancel End Event":"\u53d6\u6d88\u7ed3\u675f\u4e8b\u4ef6","Compensation End Event":"\u8865\u507f\u7ed3\u675f\u4e8b\u4ef6","Signal End Event":"\u4fe1\u53f7\u7ed3\u675f\u4e8b\u4ef6","Terminate End Event":"\u7ec8\u6b62\u7ed3\u675f\u4e8b\u4ef6","Message Boundary Event":"\u6d88\u606f\u8fb9\u754c\u4e8b\u4ef6","Message Boundary Event (non-interrupting)":"\u6d88\u606f\u8fb9\u754c\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Timer Boundary Event":"\u5b9a\u65f6\u8fb9\u754c\u4e8b\u4ef6","Timer Boundary Event (non-interrupting)":"\u5b9a\u65f6\u8fb9\u754c\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Escalation Boundary Event":"\u5347\u7ea7\u8fb9\u754c\u4e8b\u4ef6","Escalation Boundary Event (non-interrupting)":"\u5347\u7ea7\u8fb9\u754c\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Conditional Boundary Event":"\u6761\u4ef6\u8fb9\u754c\u4e8b\u4ef6","Conditional Boundary Event (non-interrupting)":"\u6761\u4ef6\u8fb9\u754c\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Error Boundary Event":"\u9519\u8bef\u8fb9\u754c\u4e8b\u4ef6","Cancel Boundary Event":"\u53d6\u6d88\u8fb9\u754c\u4e8b\u4ef6","Signal Boundary Event":"\u4fe1\u53f7\u8fb9\u754c\u4e8b\u4ef6","Signal Boundary Event (non-interrupting)":"\u4fe1\u53f7\u8fb9\u754c\u4e8b\u4ef6\uff08\u975e\u4e2d\u65ad\uff09","Compensation Boundary Event":"\u8865\u507f\u8fb9\u754c\u4e8b\u4ef6",Gateways:"\u7f51\u5173","Create Gateway":"\u521b\u5efa\u7f51\u5173","Append Gateway":"\u6dfb\u52a0\u7f51\u5173","Exclusive Gateway":"\u4e92\u65a5\u7f51\u5173","Create ExclusiveGateway":"\u4e92\u65a5\u7f51\u5173","Parallel Gateway":"\u5e76\u884c\u7f51\u5173","Create ParallelGateway":"\u5e76\u884c\u7f51\u5173","Inclusive Gateway":"\u76f8\u5bb9\u7f51\u5173","Complex Gateway":"\u590d\u6742\u7f51\u5173","Event based Gateway":"\u4e8b\u4ef6\u7f51\u5173",Transaction:"\u8f6c\u8fd0","Sub Process":"\u5b50\u6d41\u7a0b","Event Sub Process":"\u4e8b\u4ef6\u5b50\u6d41\u7a0b","Collapsed Pool":"\u6298\u53e0\u6c60","Expanded Pool":"\u5c55\u5f00\u6c60",TextAnnotation:"\u6587\u672c\u6ce8\u89e3","Create custom:triangle":"\u521b\u5efa\u4e09\u89d2","Create custom:circle":"\u521b\u5efa\u5706","no parent for {element} in {parent}":"\u5728{parent}\u91cc\uff0c{element}\u6ca1\u6709\u7236\u7c7b","no shape type specified":"\u6ca1\u6709\u6307\u5b9a\u7684\u5f62\u72b6\u7c7b\u578b","flow elements must be children of pools/participants":"\u6d41\u5143\u7d20\u5fc5\u987b\u662f\u6c60/\u53c2\u4e0e\u8005\u7684\u5b50\u7c7b","out of bounds release":"out of bounds release","more than {count} child lanes":"\u5b50\u9053\u5927\u4e8e{count} ","element required":"\u5143\u7d20\u4e0d\u80fd\u4e3a\u7a7a","diagram not part of bpmn:Definitions":"\u6d41\u7a0b\u56fe\u4e0d\u7b26\u5408bpmn\u89c4\u8303","no diagram to display":"\u6ca1\u6709\u53ef\u5c55\u793a\u7684\u6d41\u7a0b\u56fe","no process or collaboration to display":"\u6ca1\u6709\u53ef\u5c55\u793a\u7684\u6d41\u7a0b/\u534f\u4f5c","element {element} referenced by {referenced}#{property} not yet drawn":"\u7531{referenced}#{property}\u5f15\u7528\u7684{element}\u5143\u7d20\u4ecd\u672a\u7ed8\u5236","already rendered {element}":"{element} \u5df2\u88ab\u6e32\u67d3","failed to import {element}":"\u5bfc\u5165{element}\u5931\u8d25",Id:"\u7f16\u53f7",Name:"\u540d\u79f0",General:"\u5e38\u89c4",Details:"\u8be6\u60c5","Message Name":"\u6d88\u606f\u540d\u79f0",Message:"\u6d88\u606f",Initiator:"\u521b\u5efa\u8005","Asynchronous Continuations":"\u6301\u7eed\u5f02\u6b65","Asynchronous Before":"\u5f02\u6b65\u524d","Asynchronous After":"\u5f02\u6b65\u540e","Job Configuration":"\u5de5\u4f5c\u914d\u7f6e",Exclusive:"\u6392\u9664","Job Priority":"\u5de5\u4f5c\u4f18\u5148\u7ea7","Retry Time Cycle":"\u91cd\u8bd5\u65f6\u95f4\u5468\u671f",Documentation:"\u6587\u6863","Element Documentation":"\u5143\u7d20\u6587\u6863\uff08\u8282\u70b9\u5206\u7ec4\uff09","History Configuration":"\u5386\u53f2\u914d\u7f6e","History Time To Live":"\u5386\u53f2\u7684\u751f\u5b58\u65f6\u95f4",Forms:"\u8868\u5355","Form Key":"\u8868\u5355key","Form Fields":"\u8868\u5355\u5b57\u6bb5","Business Key":"\u4e1a\u52a1key","Form Field":"\u8868\u5355\u5b57\u6bb5",ID:"\u7f16\u53f7",Type:"\u7c7b\u578b",Label:"\u540d\u79f0","Default Value":"\u9ed8\u8ba4\u503c",Validation:"\u6821\u9a8c","Add Constraint":"\u6dfb\u52a0\u7ea6\u675f",Config:"\u914d\u7f6e",Properties:"\u5c5e\u6027","Add Property":"\u6dfb\u52a0\u5c5e\u6027",Value:"\u503c",Listeners:"\u76d1\u542c\u5668","Execution Listener":"\u6267\u884c\u76d1\u542c","Event Type":"\u4e8b\u4ef6\u7c7b\u578b","Listener Type":"\u76d1\u542c\u5668\u7c7b\u578b","Java Class":"Java\u7c7b",Expression:"\u8868\u8fbe\u5f0f","Must provide a value":"\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u503c","Parameter must have a name":"\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u5b57\u6bb5\u540d\u79f0","Delegate Expression":"\u4ee3\u7406\u8868\u8fbe\u5f0f",Script:"\u811a\u672c","Script Format":"\u811a\u672c\u683c\u5f0f","Script Type":"\u811a\u672c\u7c7b\u578b","Inline Script":"\u5185\u8054\u811a\u672c","External Script":"\u5916\u90e8\u811a\u672c",Resource:"\u8d44\u6e90","Field Injection":"\u5b57\u6bb5\u6ce8\u5165",Extensions:"\u6269\u5c55","Input/Output":"\u8f93\u5165/\u8f93\u51fa","Input Parameters":"\u8f93\u5165\u53c2\u6570","Output Parameters":"\u8f93\u51fa\u53c2\u6570",Parameters:"\u53c2\u6570","Output Parameter":"\u8f93\u51fa\u53c2\u6570","Timer Definition Type":"\u5b9a\u65f6\u5668\u5b9a\u4e49\u7c7b\u578b","Timer Definition":"\u5b9a\u65f6\u5668\u5b9a\u4e49",Date:"\u65e5\u671f",Duration:"\u6301\u7eed",Cycle:"\u5faa\u73af",Signal:"\u4fe1\u53f7","Signal Name":"\u4fe1\u53f7\u540d\u79f0",Escalation:"\u5347\u7ea7",Error:"\u9519\u8bef","Link Name":"\u94fe\u63a5\u540d\u79f0",Condition:"\u6761\u4ef6\u540d\u79f0","Variable Name":"\u53d8\u91cf\u540d\u79f0","Variable Event":"\u53d8\u91cf\u4e8b\u4ef6","Specify more than one variable change event as a comma separated list.":"\u591a\u4e2a\u53d8\u91cf\u4e8b\u4ef6\u4ee5\u9017\u53f7\u9694\u5f00","Wait for Completion":"\u7b49\u5f85\u5b8c\u6210","Activity Ref":"\u6d3b\u52a8\u53c2\u8003","Version Tag":"\u7248\u672c\u6807\u7b7e",Executable:"\u53ef\u6267\u884c\u6587\u4ef6","External Task Configuration":"\u6269\u5c55\u4efb\u52a1\u914d\u7f6e","Task Priority":"\u4efb\u52a1\u4f18\u5148\u7ea7",External:"\u5916\u90e8",Connector:"\u8fde\u63a5\u5668","Must configure Connector":"\u5fc5\u987b\u914d\u7f6e\u8fde\u63a5\u5668","Connector Id":"\u8fde\u63a5\u5668\u7f16\u53f7",Implementation:"\u5b9e\u73b0\u65b9\u5f0f","Field Injections":"\u5b57\u6bb5\u6ce8\u5165",Fields:"\u5b57\u6bb5","Result Variable":"\u7ed3\u679c\u53d8\u91cf",Topic:"\u4e3b\u9898","Configure Connector":"\u914d\u7f6e\u8fde\u63a5\u5668","Input Parameter":"\u8f93\u5165\u53c2\u6570",Assignee:"\u4ee3\u7406\u4eba","Candidate Users":"\u5019\u9009\u7528\u6237","Candidate Groups":"\u5019\u9009\u7ec4","Due Date":"\u5230\u671f\u65f6\u95f4","Follow Up Date":"\u8ddf\u8e2a\u65e5\u671f",Priority:"\u4f18\u5148\u7ea7","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"\u8ddf\u8e2a\u65e5\u671f\u5fc5\u987b\u7b26\u5408EL\u8868\u8fbe\u5f0f\uff0c\u5982\uff1a ${someDate} ,\u6216\u8005\u4e00\u4e2aISO\u6807\u51c6\u65e5\u671f\uff0c\u5982\uff1a2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"\u8ddf\u8e2a\u65e5\u671f\u5fc5\u987b\u7b26\u5408EL\u8868\u8fbe\u5f0f\uff0c\u5982\uff1a ${someDate} ,\u6216\u8005\u4e00\u4e2aISO\u6807\u51c6\u65e5\u671f\uff0c\u5982\uff1a2015-06-26T09:54:00",Variables:"\u53d8\u91cf","Open minimap":"\u6253\u5f00\u9884\u89c8","Close minimap":"\u5173\u95ed\u9884\u89c8",ProcessControl:"\u6d41\u7a0b\u63a7\u5236",CustomTasks:"\u81ea\u5b9a\u4e49\u4efb\u52a1","Create CustomTaskDemo":"\u81ea\u5b9a\u4e49\u4efb\u52a1","Add Custom Tasks":"\u81ea\u5b9a\u4e49\u5b9a\u5236\u4efb\u52a1","Create CustomTask":"\u81ea\u5b9a\u4e49\u4efb\u52a1","This maps to the process definition key.":" ","Candidate Starter Configuration":"\u5019\u9009\u521d\u5b66\u8005\u914d\u7f6e","Candidate Starter Groups":"\u5019\u9009\u521d\u5b66\u8005\u7ec4","Specify more than one group as a comma separated list.":"\u6307\u5b9a\u591a\u4e2a\u7ec4\u4f5c\u4e3a\u9017\u53f7\u5206\u9694\u5217\u8868\u3002","Candidate Starter Users":"\u5019\u9009\u521d\u5b66\u8005\u7528\u6237","Specify more than one user as a comma separated list.":"\u6307\u5b9a\u591a\u4e2a\u7528\u6237\u4f5c\u4e3a\u9017\u53f7\u5206\u9694\u5217\u8868\u3002","Tasklist Configuration":"\u4efb\u52a1\u5217\u8868\u914d\u7f6e",Startable:"\u53ef\u542f\u52a8"};var W={__init__:["translate"],translate:["value",function(e,t){return t=t||{},(e=K[e]||e).replace(/{([^}]+)}/g,function(e,n){var a=t[n];return null!=K[t[n]]&&"undefined"!==K[t[n]]&&(a=K[t[n]]),a||"{".concat(n,"}")})}]},ee=n(76);function te(e){ee.a.call(this,e)}S()(te,ee.a),te.$inject=["eventBus"],te.prototype.init=function(){this.addRule("shape.resize",1500,function(e){return"bpmn:SequenceFlow"!==e.shape.type})};var ne={__init__:["resizeAllRules"],resizeAllRules:["type",te]};function ae(){this.execute=function(e){return e.oldColor=e.element.color,e.element.color=e.color,e.element},this.revert=function(e){return e.element.color=e.oldColor,e.element}}var oe=n(130);function ie(e,t,n,a,o,i){var r=this;oe.a.call(this,e,t,n,a,o,i,1400),this.canRender=function(e){return Object(I.is)(e,"bpmn:BaseElement")&&e.color},this.drawShape=function(e,t){var n=r.drawBpmnShape(e,t);return Object(V.b)(n,{fill:t.color}),n}}S()(ie,oe.a),ie.prototype.drawBpmnShape=oe.a.prototype.drawShape,ie.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];var re={__init__:["colorPicker","coloredRenderer"],colorPicker:["type",function(e,t,n){function a(e,t){var a=window.prompt("\u586b\u5165\u8272\u503c");n.execute("shape.updateColor",{element:t,color:a})}t.registerProvider(this),n.registerHandler("shape.updateColor",ae),this.getContextPadEntries=function(e){if(Object(I.is)(e,"bpmn:Event"))return{changeColor:{group:"edit",className:"icon-red",title:"Change element color",action:{click:a}}}}}],coloredRenderer:["type",ie]};function se(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function ce(e,t,n){n=n||0,Object(L.p)(n)||(n={x:n,y:n});var a=se(e),o=se(t),i=a.bottom+n.y<=o.top,r=a.left-n.x>=o.right,s=a.top-n.y>=o.bottom,c=i?"top":s?"bottom":null,l=a.right+n.x<=o.left?"left":r?"right":null;return l&&c?"".concat(c,"-").concat(l):l||c||"intersect"}function le(e,t,n){this._overlays=t,this._elementRegistry=e,this.active=!1;var a=this;n.on("elements.changed",function(){a.active&&(a.hide(),a.show())})}le.$inject=["elementRegistry","overlays","eventBus"],le.prototype._getTransactionBoundaries=function(e){var t=e.businessObject,n=t.loopCharacteristics,a=t.eventDefinitions&&t.eventDefinitions[0].$type,o="bpmn:ReceiveTask"===e.type||"bpmn:UserTask"===e.type||"bpmn:ServiceTask"===e.type&&"external"===t.type,i="bpmn:EventBasedGateway"===e.type,r="bpmn:IntermediateCatchEvent"===e.type&&("bpmn:MessageEventDefinition"===a||"bpmn:TimerEventDefinition"===a||"bpmn:SignalEventDefinition"===a||"bpmn:ConditionalEventDefinition"===a),s=t.asyncAfter||n&&n.asyncAfter,c=t.asyncBefore||n&&n.asyncBefore,l=o||r||i||c;if(l||s)return{before:!!l,after:!!s}},le.prototype._getTransactionBoundaryElements=function(){var e=[],t=this;return this._elementRegistry.forEach(function(n){if("label"!==n.type){var a=t._getTransactionBoundaries(n);a&&e.push(Object(L.a)({shape:n},{boundaries:a}))}}),e},le.prototype._addOverlay=function(e,t){var n=ce(t,e,-7);"intersect"===n&&(n=ce(t,e,-20));var a,o,i={};/left/.test(n)?(o=3,a=20,i.left=-o-0,i.top=t.y-e.y-10):/right/.test(n)?(o=3,a=20,i.right=e.x+e.width-t.x-0,i.top=t.y-e.y-10):"top"===n?(o=20,a=3,i.left=t.x-e.x-10,i.top=-a-0):"bottom"===n&&(o=20,a=3,i.bottom=-0,i.left=t.x-e.x-10),this._overlays.add(e,"transaction-boundaries",{position:i,html:'<div style="width: '.concat(o,"px; height: ").concat(a,'px; background: #ee0000; "> </div>')})},le.prototype.show=function(){var e=this._getTransactionBoundaryElements(),t=this;Object(L.i)(e,function(e){e.boundaries.before&&(e.shape.incoming.length>0?Object(L.i)(e.shape.incoming,function(n){if("bpmn:SequenceFlow"===n.type){var a=n.waypoints[n.waypoints.length-1];t._addOverlay(e.shape,a)}}):t._addOverlay(e.shape,{x:e.shape.x,y:e.shape.y+e.shape.height/2})),e.boundaries.after&&(e.shape.outgoing.length>0?Object(L.i)(e.shape.outgoing,function(n){if("bpmn:SequenceFlow"===n.type){var a=n.waypoints[0];t._addOverlay(e.shape,a)}}):t._addOverlay(e.shape,{x:e.shape.x+e.shape.width,y:e.shape.y+e.shape.height/2}))}),this.active=!0},le.prototype.hide=function(){this._overlays.remove({type:"transaction-boundaries"}),this.active=!1},le.prototype.toggle=function(){this.active?this.hide():this.show()};var de={__init__:["transactionBoundaries"],transactionBoundaries:["type",le]};function pe(e){N.a.call(this,e)}S()(pe,N.a),pe.prototype._modules=[].concat(pe.prototype._modules,[J],[H],[W],[ne],[k.a],[B.a],[re],[de]);var ue=[{customType:"CustomTaskDemo",imgDataUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20960%20960%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M960%2060v839c0%2033-27%2061-60%2061H60c-33%200-60-27-60-60V60C0%2027%2027%200%2060%200h839c34%200%2061%2027%2061%2060z%22%2F%3E%3Cpath%20fill%3D%22%2352b415%22%20d%3D%22M217%20548a205%20205%200%200%200-144%2058%20202%20202%200%200%200-4%20286%20202%20202%200%200%200%20285%203%20200%20200%200%200%200%2048-219%20203%20203%200%200%200-185-128zM752%206a206%20206%200%200%200-192%20285%20206%20206%200%200%200%20269%20111%20207%20207%200%200%200%20111-260A204%20204%200%200%200%20752%206zM62%200A62%2062%200%200%200%200%2062v398l60%2046a259%20259%200%200%201%2089-36c5-28%2010-57%2014-85l99%202%2012%2085a246%20246%200%200%201%2088%2038l70-52%2069%2071-52%2068c17%2030%2029%2058%2035%2090l86%2014-2%20100-86%2012a240%20240%200%200%201-38%2089l43%2058h413c37%200%2060-27%2060-61V407a220%20220%200%200%201-44%2040l21%2085-93%2039-45-76a258%20258%200%200%201-98%201l-45%2076-94-39%2022-85a298%20298%200%200%201-70-69l-86%2022-38-94%2076-45a258%20258%200%200%201-1-98l-76-45%2040-94%2085%2022a271%20271%200%200%201%2041-47z%22%2F%3E%3C%2Fsvg%3E",imgSelectedDataUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5NjAgOTYwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOTYwIDYwdjgzOWMwIDMzLTI3IDYxLTYwIDYxSDYwYy0zMyAwLTYwLTI3LTYwLTYwVjYwQzAgMjcgMjcgMCA2MCAwaDgzOWMzNCAwIDYxIDI3IDYxIDYweiIvPjxwYXRoIGZpbGw9ImhvdHBpbmsiIGQ9Ik0yMTcgNTQ4YTIwNSAyMDUgMCAwIDAtMTQ0IDU4IDIwMiAyMDIgMCAwIDAtNCAyODYgMjAyIDIwMiAwIDAgMCAyODUgMyAyMDAgMjAwIDAgMCAwIDQ4LTIxOSAyMDMgMjAzIDAgMCAwLTE4NS0xMjh6TTc1MiA2YTIwNiAyMDYgMCAwIDAtMTkyIDI4NSAyMDYgMjA2IDAgMCAwIDI2OSAxMTEgMjA3IDIwNyAwIDAgMCAxMTEtMjYwQTIwNCAyMDQgMCAwIDAgNzUyIDZ6TTYyIDBBNjIgNjIgMCAwIDAgMCA2MnYzOThsNjAgNDZhMjU5IDI1OSAwIDAgMSA4OS0zNmM1LTI4IDEwLTU3IDE0LTg1bDk5IDIgMTIgODVhMjQ2IDI0NiAwIDAgMSA4OCAzOGw3MC01MiA2OSA3MS01MiA2OGMxNyAzMCAyOSA1OCAzNSA5MGw4NiAxNC0yIDEwMC04NiAxMmEyNDAgMjQwIDAgMCAxLTM4IDg5bDQzIDU4aDQxM2MzNyAwIDYwLTI3IDYwLTYxVjQwN2EyMjAgMjIwIDAgMCAxLTQ0IDQwbDIxIDg1LTkzIDM5LTQ1LTc2YTI1OCAyNTggMCAwIDEtOTggMWwtNDUgNzYtOTQtMzkgMjItODVhMjk4IDI5OCAwIDAgMS03MC02OWwtODYgMjItMzgtOTQgNzYtNDVhMjU4IDI1OCAwIDAgMS0xLTk4bC03Ni00NSA0MC05NCA4NSAyMmEyNzEgMjcxIDAgMCAxIDQxLTQ3eiIvPjwvc3ZnPg==",initProperties:{name:"\u81ea\u5b9a\u4e49\u4efb\u52a1",class:"class\u7c7b",asyncBefore:!0,async:!1,exclusive:!0,jobPriority:"first one",timeCycle:{type:"camunda:FailedJobRetryTimeCycle",body:"33"},documentation:{type:"bpmn:Documentation",text:"tests"},listener:[{type:"camunda:ExecutionListener",values:{class:"classTest",event:"start",fields:[{type:"camunda:Field",values:{name:"name1",string:"value1"}},{type:"camunda:Field",values:{name:"name2",string:"value2"}}]}},{type:"camunda:ExecutionListener",values:{expression:"expressionTest",event:"end",fields:[{type:"camunda:Field",values:{name:"name3",string:"value3"}},{type:"camunda:Field",values:{name:"name4",string:"value4"}}]}}],inputOutput:{type:"camunda:InputOutput",values:{inputParameters:[{type:"camunda:InputParameter",values:{name:"Input_1",value:"input1"}},{type:"camunda:InputParameter",values:{name:"Input_2",value:"input2"}}],outputParameters:[{type:"camunda:OutputParameter",values:{name:"Output_1",value:"output1"}},{type:"camunda:OutputParameter",values:{name:"Output_2",value:"output2"}}]}},injectField:[{type:"camunda:Field",values:{name:"stringName",string:"stringValue"}},{type:"camunda:Field",values:{expression:"express1",name:"expressName"}},{type:"camunda:Field",values:{expression:"express2",name:"expressName2"}}],extendProperties:{type:"camunda:Properties",values:[{type:"camunda:Property",values:{name:"key1",value:"value1"}},{type:"camunda:Property",values:{name:"key2",value:"value2"}}]}}}];var me=n(187),ve=n.n(me),ge=function(){return o.a.createElement("div",{className:ve.a.header},o.a.createElement("div",{className:ve.a["logo-container"]},o.a.createElement("h1",{className:ve.a.systemName},"bpmn-react")))},he=n(23),ye=n.n(he),fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleOpen=function(){n.file.click()},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onOpenFIle,a=t.onZoomIn,i=t.onZoomOut,r=t.onZoomReset,s=t.onUndo,c=t.onRedo,l=t.onSave,d=t.onDownloadXml,p=t.onDownloadSvg;return o.a.createElement("div",{className:ye.a.editingTools},o.a.createElement("ul",{className:ye.a.controlList},o.a.createElement("li",{className:"".concat(ye.a.control," ").concat(ye.a.line)},o.a.createElement("input",{ref:function(t){e.file=t},className:ye.a.openFile,type:"file",onChange:n}),o.a.createElement("button",{type:"button",title:"\u6253\u5f00",onClick:this.handleOpen},o.a.createElement("i",{className:ye.a.open}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u524d\u8fdb",onClick:s},o.a.createElement("i",{className:ye.a.undo}))),o.a.createElement("li",{className:"".concat(ye.a.control," ").concat(ye.a.line)},o.a.createElement("button",{type:"button",title:"\u540e\u9000",onClick:c},o.a.createElement("i",{className:ye.a.redo}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u8fd8\u539f",onClick:r},o.a.createElement("i",{className:ye.a.zoom}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u653e\u5927",onClick:a},o.a.createElement("i",{className:ye.a.zoomIn}))),o.a.createElement("li",{className:"".concat(ye.a.control," ").concat(ye.a.line)},o.a.createElement("button",{type:"button",title:"\u7f29\u5c0f",onClick:i},o.a.createElement("i",{className:ye.a.zoomOut}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u4fdd\u5b58",onClick:l},o.a.createElement("i",{className:ye.a.save}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u4e0b\u8f7dbpmn diagram",onClick:d},o.a.createElement("i",{className:ye.a.download}))),o.a.createElement("li",{className:ye.a.control},o.a.createElement("button",{type:"button",title:"\u4e0b\u8f7dsvg image",onClick:p},o.a.createElement("i",{className:ye.a.image})))))}}]),t}(a.Component),be=(n(827),n(253)),Ee=n.n(be);O.a.defaults.retry=4,O.a.defaults.retryDelay=1e3;var we=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).openDiagram=function(t){var n=Object(E.a)(Object(E.a)(e));e.setState({isShowFold:!0}),e.bpmnModeler.importXML(t,function(t){t&&b.a.error("\u6a21\u578b\u52a0\u8f7d\u6709\u8bef\uff01");var a=window.customData,o=e.bpmnModeler.get("eventBus");C()("#properties-panel").find("#camunda-id").attr("disabled",!0),o.on("directEditing.activate",function(e){var t=e.active.context.text,n=a.filter(function(e){return e.initProperties.name===t});Object(A.isEmpty)(n)||C()(".djs-direct-editing-parent").css("display","none")}),o.on("element.dblclick",1e4,function(e){var t=e.element,n=Object(I.getBusinessObject)(t),o=t.customType,i=a.filter(function(e){return e.initProperties.name===n.name});if(o||!Object(A.isEmpty)(i))return!1}),o.on("selection.changed",function(e){var t=e.newSelection;if(Object(A.isEmpty)(t)&&(C()("#properties-panel").find("#camunda-id").attr("disabled",!0),C()("#properties-panel").find("#camunda-id").next().css("display","none")),t[0]){var n=t[0],o=Object(I.getBusinessObject)(n),i=n.customType,r=a.filter(function(e){return e.initProperties.name===o.name});!i&&Object(A.isEmpty)(r)||C()("#properties-panel").find("#camunda-name").attr("contenteditable",!1)}}),n.bpmnModeler.get("transactionBoundaries").hide(),C()("#canvas").on("click",'[data-action="create.add-custom-tasks"]',function(){})})},e.createModdleElement=function(t,n){return e.bpmnModeler.get("moddle").create(t,n)},e.setEelementProperties=function(t){return t.map(function(t){return e.createModdleElement(t.type,t.values)})},e.failedJobRetryTimeCycle=function(t){return e.createModdleElement(t.timeCycle.type,{body:t.timeCycle.body})},e.documentation=function(t){return e.createModdleElement(t.documentation.type,{text:t.documentation.text})},e.camundaExecutionListener=function(t){return t.listener.map(function(t){var n=t.values.fields?e.setEelementProperties(t.values.fields):void 0;return t.values.fields=n,e.createModdleElement(t.type,t.values)})},e.camundaInputOutput=function(t){return e.createModdleElement(t.inputOutput.type,{inputParameters:t.inputOutput.values.inputParameters?e.setEelementProperties(t.inputOutput.values.inputParameters):[],outputParameters:t.inputOutput.values.outputParameters?e.setEelementProperties(t.inputOutput.values.outputParameters):[]})},e.camundaInjectField=function(t){return e.setEelementProperties(t.injectField)},e.camundaProperties=function(t){return e.createModdleElement(t.extendProperties.type,{values:t.extendProperties.values?e.setEelementProperties(t.extendProperties.values):[]})},e.extensionElements=function(t){var n=[];return t.listener&&n.push.apply(n,Object(y.a)(e.camundaExecutionListener(t))),t.inputOutput&&n.push(e.camundaInputOutput(t)),t.injectField&&n.push.apply(n,Object(y.a)(e.camundaInjectField(t))),t.extendProperties&&n.push(e.camundaProperties(t)),t.timeCycle&&n.push(e.failedJobRetryTimeCycle(t)),e.createModdleElement("bpmn:ExtensionElements",{values:[].concat(n)})},e.handleOpenFile=function(t){var n=Object(E.a)(Object(E.a)(e)),a=t.target.files[0],o=new FileReader,i="";o.readAsText(a),o.onload=function(e){i=e.target.result,n.openDiagram(i,"open")}},e.handleSave=function(){h.a.destroy();var t=e.state.modelId,n="",a="";e.bpmnModeler.saveXML({format:!0},function(e,t){n=t}),e.bpmnModeler.saveSVG({format:!0},function(e,t){a=t});var o={jsonXml:n,svgXml:a,modelId:t};O()({url:"/web/model/v1/saveModel",method:"post",data:Object(v.a)({},o),headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){var t="";for(var n in e)t+="".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n]),"&");return t}]}).then(function(e){(e=e.data).success?b.a.success(e.message):b.a.error(e.message),e.data&&Object(A.isArray)(e.data)&&!Object(A.isEmpty)(e.data)&&e.data.forEach(function(e){var t={message:"".concat(e.activityName||e.activityId||""),description:"".concat(e.defaultDescription),duration:0};h.a.warn(t)})}).catch(function(){b.a.error("\u6a21\u578b\u8bbe\u8ba1\u4fdd\u5b58\u5931\u8d25\uff01")})},e.handleRedo=function(){console.log(e.bpmnModeler.get("commandStack")),e.bpmnModeler.get("commandStack").redo()},e.handleUndo=function(){e.bpmnModeler.get("commandStack").undo()},e.download=function(t,n,a){var o=e.state.modelId,i="",r=document.createElement("a");switch(t){case"xml":i="bpmn";break;case"svg":i="svg"}a=a||"".concat(o,"_diagram.").concat(i),r.setAttribute("href","data:application/bpmn20-xml;charset=UTF-8,".concat(encodeURIComponent(n))),r.setAttribute("target","_blank"),r.setAttribute("dataTrack","diagram:download-".concat(i)),r.setAttribute("download",a),document.body.appendChild(r),r.click(),document.body.removeChild(r)},e.handleDownloadSvg=function(){e.bpmnModeler.saveSVG({format:!0},function(t,n){e.download("svg",n)})},e.handleDownloadXml=function(){e.bpmnModeler.saveXML({format:!0},function(t,n){e.download("xml",n)})},e.handleZoom=function(t){var n=e.state.scale,a=t?n+t<=.2?.2:n+t:1;e.bpmnModeler.get("canvas").zoom(a),e.setState({scale:a})},e.handlePanelFold=function(){var t=e.state.isShowPanel;e.setState({isShowPanel:!t},function(){})},e.state={scale:1,isShowPanel:!0,isShowFold:!1},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e,t,n=this,a=window,o=a.xml,i=a.customData;this.bpmnModeler=new pe({container:"#canvas",propertiesPanel:{parent:"#properties-panel"},additionalModules:[T.a,M.a],moddleExtensions:{camunda:D},bpmnRenderer:{defaultFillColor:"#fff",defaultStrokeColor:"hotpink"},keyboard:{bindTo:document}}),console.log("bpmnModeler: ",this.bpmnModeler),this.openDiagram(o),window.FileList&&window.FileReader?(e=C()("#js-drop-zone")[0],t=this.openDiagram,e.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),e.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files[0],a=new FileReader;a.onload=function(e){var n=e.target.result;t(n)},a.readAsText(n)},!1)):b.a.info("\u8bf7\u4f7f\u7528\u9ad8\u7248\u672c\u6d4f\u89c8\uff01");var r=i.length&&i.map(function(e){var t=e.initProperties,a={customType:e.customType,general:{name:t.name},updateProperties:{}};return(t.listener||t.inputOutput||t.injectField||t.extendProperties||t.timeCycle)&&(a.updateProperties.extensionElements=n.extensionElements(t)),t.documentation&&(a.updateProperties.documentation=[n.documentation(t)]),t.class&&(a.general.class=t.class),t.expression&&(a.general.expression=t.expression,a.general.resultVariable=t.resultVariable||""),t.delegateExpression&&(a.general.delegateExpression=t.delegateExpression),void 0!==t.asyncBefore&&(t.jobPriority&&(a.general.jobPriority=t.jobPriority),a.general.asyncBefore=t.asyncBefore,a.general.async=t.async,a.general.exclusive=t.exclusive),void 0!==t.asyncAfter&&(a.general.asyncAfter=t.asyncAfter,a.general.async=t.async,a.general.exclusive=t.exclusive,t.jobPriority&&(a.general.jobPriority=t.jobPriority)),a}),s=this.bpmnModeler.get("modeling");this.bpmnModeler.on("element.changed",function(e){var t=e.element,n=t.customType,a=Object(I.getBusinessObject)(t),o="";t&&t.parent&&(o=t.parent.id),o&&-1===a.id.indexOf(o)&&(a.id="".concat(o,"_").concat(a.id));var c=i.filter(function(e){return e.customType===n}),l=c.length&&c[0].initProperties||{},d=r&&r.filter(function(e){return e.customType===n})[0];Object(A.isEmpty)(l)||void 0!==a.isNotInit||(a.isNotInit=!1,Object.keys(d.general).forEach(function(e){a[e]=d.general[e]}),s.updateProperties(t,d.updateProperties))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isShowPanel,a=t.isShowFold;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,null),o.a.createElement("div",{className:Ee.a.container,id:"js-drop-zone"},o.a.createElement("div",{className:Ee.a.canvas,id:"canvas"}),o.a.createElement("div",{className:"properties-panel-fold\n              ".concat(n?"":"fold","\n              ").concat(a?"":"hide","\n              "),id:"js-panel-fold",title:"\u6298\u53e0",onClick:this.handlePanelFold}),o.a.createElement("div",{className:"properties-panel-parent ".concat(n?"":"hidePanel"),id:"properties-panel",style:{height:"100%"}}),o.a.createElement(fe,{onOpenFIle:this.handleOpenFile,onSave:Object(A.debounce)(this.handleSave,300),onUndo:this.handleUndo,onRedo:this.handleRedo,onDownloadSvg:this.handleDownloadSvg,onDownloadXml:this.handleDownloadXml,onZoomIn:function(){return e.handleZoom(.1)},onZoomOut:function(){return e.handleZoom(-.1)},onZoomReset:function(){return e.handleZoom()}})))}}]),t}(a.Component),Ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={isCustomLoaded:!1,isXmlLoaded:!1},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){window.xml='<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"\n  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"\n  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"\n  xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"\n  id="sample-diagram"\n  targetNamespace="http://bpmn.io/schema/bpmn"\n>\n  <bpmn2:process id="Process_1" isExecutable="false">\n    <bpmn2:startEvent id="StartEvent_1"/>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n        <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>',window.customData=ue,this.setState({isCustomLoaded:!0,isXmlLoaded:!0})}},{key:"render",value:function(){var e=this.state,t=e.isCustomLoaded,n=e.isXmlLoaded;return o.a.createElement("div",{style:{height:"100%",width:"100%",overflow:"hidden"}},t&&n?o.a.createElement(we,null):o.a.createElement(c.a,{tip:"\u73a9\u547d\u52a0\u8f7d\u4e2d..."}))}}]),t}(a.Component);r.a.render(o.a.createElement(Ce,null),document.getElementById("root"))}},[[390,1,2]]]);
//# sourceMappingURL=main.7b8ef520.chunk.js.map